version: 2

sources:
  - name: coincap
    database: COINCAP_DB
    schema: RAW
    tables:
      - name: assets_snapshots
        description: "Raw 5-minute snapshots of crypto assets from CoinCap API."
        loaded_at_field: LOAD_TIMESTAMP
        freshness:
          warn_after: { count: 10, period: minute }
          error_after: { count: 15, period: minute }
        columns:
          - name: LOAD_TIMESTAMP
            description: "The time the data was ingested."
          - name: RAW_DATA
            description: "JSON variant column containing the assets array."
          - name: SOURCE_FILE_NAME
            description: "Name of the source file from which the data was ingested."
